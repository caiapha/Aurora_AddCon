<?xml version="1.0" encoding="utf-8" ?>
<elements>
	<info>
		<update version="0.0.0">
			<file name="fighter-eldritch-knight.xml" url="fighter-eldritch-knight.xml" />
		</update>
	</info>

	<!-- Eldritch Knight Archetype -->
	<element name="Eldritch Knight" type="Archetype" source="Player’s Handbook Rev. 2024" id="ID_WOTC_PHB24_ARCHETYPE_FIGHTER_ELDRITCH_KNIGHT">
		<supports>Fighter subclass</supports>
		<description>
			<p>Eldritch Knights combine the martial mastery common to all Fighters with a careful study of magic. Their spells both complement and extend their combat skills, providing additional protection to shore up their armor and also allowing them to engage many foes at once with explosive magic.</p>
			<div element="ID_WOTC_PHB24_ARCHETYPE_FEATURE_ELDRITCH_KNIGHT_SPELLCASTING"/>
			<div element="ID_WOTC_PHB24_ARCHETYPE_FEATURE_ELDRITCH_KNIGHT_WEAPON_BOND"/>
			<!--<div element="ID_WOTC_PHB24_ARCHETYPE_FEATURE_ELDRITCH_KNIGHT_WAR_MAGIC"/>
			<div element="ID_WOTC_PHB24_ARCHETYPE_FEATURE_ELDRITCH_KNIGHT_ELDRITCH_STRIKE"/>
			<div element="ID_WOTC_PHB24_ARCHETYPE_FEATURE_ELDRITCH_KNIGHT_ARCANE_CHARGE"/>
			<div element="ID_WOTC_PHB24_ARCHETYPE_FEATURE_ELDRITCH_KNIGHT_IMPROVED_WAR_MAGIC"/> -->
		</description>
		<sheet display="false">
			<description>The archetypal Eldritch Knight combines the martial mastery common to all fighters with a careful study of magic.</description>
		</sheet>
		<rules>
			<grant type="Archetype Feature" id="ID_WOTC_PHB24_ARCHETYPE_FEATURE_ELDRITCH_KNIGHT_SPELLCASTING" level="3"/>
		 	<grant type="Archetype Feature" id="ID_WOTC_PHB24_ARCHETYPE_FEATURE_ELDRITCH_KNIGHT_WEAPON_BOND" level="3"/>
			<!--<grant type="Archetype Feature" id="ID_WOTC_PHB24_ARCHETYPE_FEATURE_ELDRITCH_KNIGHT_WAR_MAGIC" level="7"/>
			<grant type="Archetype Feature" id="ID_WOTC_PHB24_ARCHETYPE_FEATURE_ELDRITCH_KNIGHT_ELDRITCH_STRIKE" level="10"/>
			<grant type="Archetype Feature" id="ID_WOTC_PHB24_ARCHETYPE_FEATURE_ELDRITCH_KNIGHT_ARCANE_CHARGE" level="15"/>
			<grant type="Archetype Feature" id="ID_WOTC_PHB24_ARCHETYPE_FEATURE_ELDRITCH_KNIGHT_IMPROVED_WAR_MAGIC" level="18"/> -->
		</rules>
	</element>
	<element name="Spellcasting" type="Archetype Feature" source="Player’s Handbook" id="ID_WOTC_PHB24_ARCHETYPE_FEATURE_ELDRITCH_KNIGHT_SPELLCASTING">
		<requirements>!ID_INTERNAL_FEATURE_REPLACEMENT_FIGHTER_ELDRITCH_KNIGHT_SPELLCASTING</requirements>
		<description>
			<p>You have learned to cast spells. See chapter 7 for the rules on spellcasting. The information below details how you use those rules as an Eldritch Knight.</p>
			<p class="indent"><strong><em>Cantrips.</em></strong> You learn two cantrips of your choice from the wizard spell list. You learn an additional wizard cantrip of your choice at 10th level.</p>
			<p class="indent"><strong><em>Spell Slots.</em></strong> The Eldritch Knight Spellcasting table shows how many spell slots you have to cast your level 1+ spells. You regain all expended slots when you finish a Long Rest.</p>
			<p class="indent"><strong><em>Prepared Spells of Level 1+.</em></strong> You prepare the list of level 1+ spells that are available for you to cast with this feature. To start, choose three level 1 spells from the Wizard spell list. Burning Hands, Jump, and Shield are recommended.</p>
			<p class="indent">The number of spells on your list increases as you gain Fighter levels, as shown in the Prepared Spells column of the Eldritch Knight Spellcasting table. Whenever that number increases, choose additional spells from the Wizard spell list until the number of spells on your list matches the number on the table. The chosen spells must be of a level for which you have spell slots.</p>
			<p class="indent"><strong><em>Changing your Prepared Spells.</em></strong> Whenever you gain a Fighter level, you can replace one spell on your list with another Wizard spell for which you have spell slots.</p>
			<p class="indent"><strong><em>Spellcasting Ability.</em></strong> Intelligence is your spellcasting ability for your Wizard spells.</p>
			<p class="indent"><strong><em>Spellcasting Focus.</em></strong> You can use an Arcane Focus as a Spellcasting Focus for your Wizard spells.</p>
			<p class="indent">In addition, you use your Intelligence modifier when setting the saving throw DC for a wizard spell you cast and when making an attack roll with one.</p>
			<center>
				<p><strong>Spell save DC</strong> = 8 + your proficiency bonus + your Intelligence modifier</p>
				<p><strong>Spell attack modifier</strong> = your proficiency bonus + your Intelligence modifier</p>
			</center>
			<h5 class="caption">ELDRITCH KNIGHT SPELLCASTING</h5>
			<table class="class-features">
				<thead>
					<tr><td class="col-10">Fighter Level</td><td class="col-10">Cantrips Known</td><td class="col-10">Spells Prepared</td><td>1st</td><td>2nd</td><td>3rd</td><td>4th</td></tr>
				</thead>
				<tr><td> 3rd</td><td>2</td><td> 3</td><td>2</td><td>—</td><td>—</td><td>—</td></tr>
				<tr><td> 4th</td><td>2</td><td> 4</td><td>3</td><td>—</td><td>—</td><td>—</td></tr>
				<tr><td> 5th</td><td>2</td><td> 4</td><td>3</td><td>—</td><td>—</td><td>—</td></tr>
				<tr><td> 6th</td><td>2</td><td> 4</td><td>3</td><td>—</td><td>—</td><td>—</td></tr>
				<tr><td> 7th</td><td>2</td><td> 5</td><td>4</td><td>2</td><td>—</td><td>—</td></tr>
				<tr><td> 8th</td><td>2</td><td> 6</td><td>4</td><td>2</td><td>—</td><td>—</td></tr>
				<tr><td> 9th</td><td>2</td><td> 6</td><td>4</td><td>2</td><td>—</td><td>—</td></tr>
				<tr><td>10th</td><td>3</td><td> 7</td><td>4</td><td>3</td><td>—</td><td>—</td></tr>
				<tr><td>11th</td><td>3</td><td> 8</td><td>4</td><td>3</td><td>—</td><td>—</td></tr>
				<tr><td>12th</td><td>3</td><td> 8</td><td>4</td><td>3</td><td>—</td><td>—</td></tr>
				<tr><td>13th</td><td>3</td><td> 9</td><td>4</td><td>3</td><td>2</td><td>—</td></tr>
				<tr><td>14th</td><td>3</td><td>10</td><td>4</td><td>3</td><td>2</td><td>—</td></tr>
				<tr><td>15th</td><td>3</td><td>10</td><td>4</td><td>3</td><td>2</td><td>—</td></tr>
				<tr><td>16th</td><td>3</td><td>11</td><td>4</td><td>3</td><td>3</td><td>—</td></tr>
				<tr><td>17th</td><td>3</td><td>11</td><td>4</td><td>3</td><td>3</td><td>—</td></tr>
				<tr><td>18th</td><td>3</td><td>11</td><td>4</td><td>3</td><td>3</td><td>—</td></tr>
				<tr><td>19th</td><td>3</td><td>12</td><td>4</td><td>3</td><td>3</td><td>1</td></tr>
				<tr><td>20th</td><td>3</td><td>13</td><td>4</td><td>3</td><td>3</td><td>1</td></tr>
			</table>
		</description>
		<sheet display="false">
			<description>You augment your martial prowess with the ability to cast spells.</description>
		</sheet>
		<spellcasting name="Eldritch Knight" ability="Intelligence" prepare="false" allowReplace="true">
			<list>Wizard,(Abjuration||Evocation)</list>
		</spellcasting>
		<rules>
			<grant type="Grants" id="ID_INTERNAL_GRANT_MULTICLASS_SPELLCASTING_SLOTS_THIRD" requirements="ID_INTERNAL_GRANT_MULTICLASS"/>
			<stat name="eldritch knight:spellcasting:slots:1" value="2" level="3" />
			<stat name="eldritch knight:spellcasting:slots:1" value="1" level="4" />
			<stat name="eldritch knight:spellcasting:slots:1" value="1" level="7" />
			<stat name="eldritch knight:spellcasting:slots:2" value="2" level="7" />
			<stat name="eldritch knight:spellcasting:slots:2" value="1" level="10" />
			<stat name="eldritch knight:spellcasting:slots:3" value="2" level="13" />
			<stat name="eldritch knight:spellcasting:slots:3" value="1" level="16" />
			<stat name="eldritch knight:spellcasting:slots:4" value="1" level="19" />
			<select type="Spell" name="Cantrip (Eldritch Knight)" supports="Wizard, 0" level="3" number="2" spellcasting="Eldritch Knight" />
			<select type="Spell" name="Cantrip (Eldritch Knight)" supports="Wizard, 0" level="10" number="1" spellcasting="Eldritch Knight" />
			<select type="Spell" name="Spellcasting (Eldritch Knight)" supports="($(spellcasting:list)||Wizard), 1" level="3" number="1" spellcasting="Eldritch Knight" />
			<select type="Spell" name="Spellcasting (Eldritch Knight)" supports="($(spellcasting:list)||Wizard), 1" level="3" number="2" spellcasting="Eldritch Knight" />
			<select type="Spell" name="Spellcasting (Eldritch Knight)" supports="(Wizard||$(spellcasting:list)), $(spellcasting:slots)" level="4" spellcasting="Eldritch Knight"/>
			<select type="Spell" name="Spellcasting (Eldritch Knight)" supports="(Wizard||$(spellcasting:list)), $(spellcasting:slots)" level="7" spellcasting="Eldritch Knight"/>
			<select type="Spell" name="Spellcasting (Eldritch Knight)" supports="(Wizard||$(spellcasting:list)), $(spellcasting:slots)" level="8" spellcasting="Eldritch Knight"/>
			<select type="Spell" name="Spellcasting (Eldritch Knight)" supports="(Wizard||$(spellcasting:list)), $(spellcasting:slots)" level="10" spellcasting="Eldritch Knight"/>
			<select type="Spell" name="Spellcasting (Eldritch Knight)" supports="(Wizard||$(spellcasting:list)), $(spellcasting:slots)" level="11" spellcasting="Eldritch Knight"/>
			<select type="Spell" name="Spellcasting (Eldritch Knight)" supports="(Wizard||$(spellcasting:list)), $(spellcasting:slots)" level="13" spellcasting="Eldritch Knight"/>
			<select type="Spell" name="Spellcasting (Eldritch Knight)" supports="(Wizard||$(spellcasting:list)), $(spellcasting:slots)" level="14" spellcasting="Eldritch Knight"/>
			<select type="Spell" name="Spellcasting (Eldritch Knight)" supports="(Wizard||$(spellcasting:list)), $(spellcasting:slots)" level="16" spellcasting="Eldritch Knight"/>
			<select type="Spell" name="Spellcasting (Eldritch Knight)" supports="(Wizard||$(spellcasting:list)), $(spellcasting:slots)" level="19" spellcasting="Eldritch Knight"/>
			<select type="Spell" name="Spellcasting (Eldritch Knight)" supports="(Wizard||$(spellcasting:list)), $(spellcasting:slots)" level="20" spellcasting="Eldritch Knight"/>
		</rules>
	</element>
	<element name="Weapon Bond" type="Archetype Feature" source="Player’s Handbook Rev. 2024" id="ID_WOTC_PHB24_ARCHETYPE_FEATURE_ELDRITCH_KNIGHT_WEAPON_BOND">
		<requirements>!ID_INTERNAL_FEATURE_REPLACEMENT_FIGHTER_ELDRITCH_KNIGHT_WEAPON_BOND</requirements>
		<description>
			<p>At 3rd level, you learn a ritual that creates a magical bond between yourself and one weapon. You perform the ritual over the course of 1 hour, which can be done during a short rest. The weapon must be within your reach throughout the ritual, at the conclusion of which you touch the weapon and forge the bond.</p>
			<p class="indent">Once you have bonded a weapon to yourself, you can’t be disarmed of that weapon unless you are incapacitated. If it is on the same plane of existence, you can summon that weapon as a bonus action on your turn, causing it to teleport instantly to your hand.</p>
			<p class="indent">You can have up to two bonded weapons, but can summon only one at a time with your bonus action. If you attempt to bond with a third weapon, you must break the bond with one of the other two.</p>
		</description>
		<sheet>
			<description>You learn a 1 hour ritual that magically bond up to two weapons to you. You can perform the ritual during a short rest. You can’t be disarmed of that weapon unless you are incapacitated. As a Bonus Action, you can summon one of these weapon per turn.</description>
		</sheet>
	</element>
	<!-- QUI -->
	<element name="War Magic" type="Archetype Feature" source="Player’s Handbook" id="ID_WOTC_PHB_ARCHETYPE_FEATURE_ELDRITCH_KNIGHT_WAR_MAGIC">
		<requirements>!ID_INTERNAL_FEATURE_REPLACEMENT_FIGHTER_ELDRITCH_KNIGHT_WAR_MAGIC</requirements>
		<description>
			<p>Beginning at 7th level, when you use your action to cast a cantrip, you can make one weapon attack as a bonus action.</p>
		</description>
		<sheet action="Bonus Action">
			<description>When you use your action to cast a cantrip, you can make one weapon attack.</description>
		</sheet>
	</element>
	<element name="Eldritch Strike" type="Archetype Feature" source="Player’s Handbook" id="ID_WOTC_PHB_ARCHETYPE_FEATURE_ELDRITCH_KNIGHT_ELDRITCH_STRIKE">
		<requirements>!ID_INTERNAL_FEATURE_REPLACEMENT_FIGHTER_ELDRITCH_KNIGHT_ELDRITCH_STRIKE</requirements>
		<description>
			<p>At 10th level, you learn how to make your weapon strikes undercut a creature’s resistance to your spells. When you hit a creature with a weapon attack, that creature has disadvantage on the next saving throw it makes against a spell you cast before the end of your next turn.</p>
		</description>
		<sheet>
			<description>When you hit a creature with a weapon attack, that creature has disadvantage on the next saving throw it makes against a spell you cast before the end of your next turn.</description>
		</sheet>
	</element>
	<element name="Arcane Charge" type="Archetype Feature" source="Player’s Handbook" id="ID_WOTC_PHB_ARCHETYPE_FEATURE_ELDRITCH_KNIGHT_ARCANE_CHARGE">
		<requirements>!ID_INTERNAL_FEATURE_REPLACEMENT_FIGHTER_ELDRITCH_KNIGHT_ARCANE_CHARGE</requirements>
		<description>
			<p>At 15th level, you gain the ability to teleport up to 30 feet to an unoccupied space you can see when you use your Action Surge. You can teleport before or after the additional action.</p>
		</description>
		<sheet>
			<description>You can teleport up to 30 feet to an unoccupied space you can see when you use your Action Surge. You can teleport before or after the additional action.</description>
		</sheet>
	</element>
	<element name="Improved War Magic" type="Archetype Feature" source="Player’s Handbook" id="ID_WOTC_PHB_ARCHETYPE_FEATURE_ELDRITCH_KNIGHT_IMPROVED_WAR_MAGIC">
		<requirements>!ID_INTERNAL_FEATURE_REPLACEMENT_FIGHTER_ELDRITCH_KNIGHT_IMPROVED_WAR_MAGIC</requirements>
		<description>
			<p>Starting at 18th level, when you use your action to cast a spell, you can make one weapon attack as a bonus action.</p>
		</description>
		<sheet>
			<description>When you use your action to cast a spell, you can make one weapon attack as a bonus action.</description>
		</sheet>
	</element>

	<!--Feature Replacement Grants-->
	<element name="Spellcasting Feature Replacement" type="Grants" source="Internal" id="ID_INTERNAL_FEATURE_REPLACEMENT_FIGHTER_ELDRITCH_KNIGHT_SPELLCASTING" />
	<element name="Weapon Bond Feature Replacement" type="Grants" source="Internal" id="ID_INTERNAL_FEATURE_REPLACEMENT_FIGHTER_ELDRITCH_KNIGHT_WEAPON_BOND" />
	<element name="War Magic Feature Replacement" type="Grants" source="Internal" id="ID_INTERNAL_FEATURE_REPLACEMENT_FIGHTER_ELDRITCH_KNIGHT_WAR_MAGIC" />
	<element name="Eldritch Strike Feature Replacement" type="Grants" source="Internal" id="ID_INTERNAL_FEATURE_REPLACEMENT_FIGHTER_ELDRITCH_KNIGHT_ELDRITCH_STRIKE" />
	<element name="Arcane Charge Feature Replacement" type="Grants" source="Internal" id="ID_INTERNAL_FEATURE_REPLACEMENT_FIGHTER_ELDRITCH_KNIGHT_ARCANE_CHARGE" />
	<element name="Improved War Magic Feature Replacement" type="Grants" source="Internal" id="ID_INTERNAL_FEATURE_REPLACEMENT_FIGHTER_ELDRITCH_KNIGHT_IMPROVED_WAR_MAGIC" />
</elements>
